+++
date = "2017-02-27T12:50:39+08:00"
title = "我为什么选择Go"
draft = false
Tags = ["Go"]

+++

是的，我开始接触go语言了，如去年年底所说的那样。

先说说我为什么不继续用Node，并不是因为这门语言不好。事实上，NodeJS作为一个争议颇多的“全栈”语言，才带我真正走进了编程世界。它的异步，并发，非阻塞，以及丰富的npm库，无一不证明了它在解决传统服务器端编程的很多非常棒的思想。

我可以毫不违心的说，使用node开发web服务器是一件非常畅快的事情（尤其是对一名新手而言），而且使用JS前后端通吃的感觉可以满足我很大的虚荣心。同时丰富的npm包以及良好的版本管理也给人留下了很好的印象。

以下都是我的一面之词，看看便罢。

## Node存在争议的地方

### 乱七八糟的回调

虽然不论是官方还是民间都提出了很多解决异步回调的办法，但只能说是打的补丁而已，始终会让人是认为是早期语言的设计问题（这里可能说的比较片面）。

### 动态数据类型

这类动态语言虽然免去了编译的麻烦，但在构建大型项目时利用编译器可以更早发现问题。从另一个方面来讲也增加了对环境的依赖，毕竟JS本来就是依赖于浏览器而生，Node也是运行在V8引擎之上。

这里只是个人的感受，毕竟接触的语言也不多。

### 大量引入三方npm包

海量的npm包的确极大缩短了开发时间，但是也造成了滥用的问题。如果一个项目中引用的三方npm包过多，先不说耦合大不大，最起码系统的安全和稳定已经很难保证。而且如果是因为非常重大的问题导致的单个包的不得不更新，内部结构也要做出必要的升级，而这将给后期维护带来更多的困扰。

所以说虽然用三方包用的很爽，但心里还是抵制这种滥用的模式的。

### 设计模式

RESTful不用说了，这种理念无懈可击，最起码现在看起来是这样。主要还是想说一下MVC。

最初开始使用mongodb + express + angularjs + nodejs做应用开发时，接触的便是MVC的文件组织目录，那时看来确实是结构清晰的一种组织方式。但现在看来，这种多文件夹以及相对不友好的require反而成了一种负担。

有人会说MVC不是一种文件分散结构，而是客观存在的。这样说当然这对，可是又有多少人在使用MVC的过程中不会建立那几个文件夹呢？在我看来通过文件名已经足够清晰了，Node始终缺乏一个让我觉得满意的解决方法。

## 我用Go的理由

1. 首先Go很好的诠释了什么叫21世纪的C语言：设计优美良好、编译快、天生支持并发、部署方便，并且较新的版本完成了自举，第一印象非常好；
2. 有很多第三方package，方便引入，但许多三方package均仅使用原生package完成，依赖关系较弱；
3. package包的组织方式使我们完全不需要显式组织MVC，减轻了组织结构的负担；
4. 不仅编译非常快，而且支持`go run`动态运行。编译快也是我将博客从Hexo迁移到Hugo的原因之一；
5. 支持多环境交叉编译，部署完全不需要考虑运行环境的依赖问题；

还有很多理由就不一一说了，毕竟才接触Go两个多月。

在用Go写了一个API服务器之后，我找到了当初刚学Node的那种畅快感。也许我接触的才是冰山一角，也许Go自身也有很多我没有发现的问题，也许我是学一门语言爱一门语言......

但学习总能带给我惊喜，你也可以试试。

